<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تعيين كلمة مرور جديدة</title>
    <meta name="csrf-token" content="{{ csrf_token() }}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.rtl.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Arabic&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ asset('css/main.css') }}">
    <link rel="stylesheet" href="{{ asset('css/individual-register.css') }}">
    <link rel="icon" type="image/svg+xml" href="{{ asset('images/logos/logo.svg') }}">
</head>
<body class="login-container">
    <div class="registration-container">
        <div class="registration-card">
            <div class="logo">
                <img src="{{ asset('images/logos/logo-without-text.svg') }}" alt="Logo" href="#"/>
            </div>
            <h1 class="title">تعيين كلمة مرور جديدة</h1>
            <p class="reset-sub-text mb-3">أدخل كلمة مرور جديدة قوية لحماية حسابك.</p>

            <!-- Session Status -->
            @if(session('status'))
                <div class="alert alert-success mb-4 text-center">
                    {{ session('status') }}
                </div>
            @endif
            <!-- General Error Messages -->
            @if(session('error'))
                <div class="alert alert-danger mb-4 text-center">
                    {{ session('error') }}
                </div>
            @endif
            @if ($errors->any())
                <div class="alert alert-danger mb-4">
                    <ul class="mb-0 text-center">
                        @foreach ($errors->all() as $error)
                            <li>{{ $error }}</li>
                        @endforeach
                    </ul>
                </div>
            @endif
            
            <form method="POST" action="{{ route('password.update') }}">
                @csrf
                <input type="hidden" name="token" value="{{ $token }}">
                <input type="hidden" name="email" value="{{ request()->query('email') }}">

                <!-- New Password -->
                <div class="form-group mt-4">
                    <label for="password" class="form-label">كلمة المرور الجديدة</label>
                    <div class="input-wrapper">
                        <span class="input-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M18 10.75C17.8015 10.7487 17.6115 10.6693 17.4711 10.5289C17.3307 10.3885 17.2513 10.1985 17.25 10V8C17.25 4.85 16.36 2.75 12 2.75C7.64 2.75 6.75 4.85 6.75 8V10C6.74869 10.1985 6.66925 10.3885 6.52888 10.5289C6.38851 10.6693 6.19851 10.7487 6 10.75C5.80149 10.7487 5.61149 10.6693 5.47112 10.5289C5.33075 10.3885 5.25131 10.1985 5.25 10V8C5.25 5.1 5.95 1.25 12 1.25C18.05 1.25 18.75 5.1 18.75 8V10C18.7487 10.1985 18.6693 10.3885 18.5289 10.5289C18.3885 10.6693 18.1985 10.7487 18 10.75Z" fill="#666666"/>
                                <path d="M12 19.25C11.3572 19.25 10.7289 19.0594 10.1944 18.7023C9.65994 18.3452 9.24338 17.8376 8.99739 17.2437C8.75141 16.6499 8.68705 15.9964 8.81245 15.366C8.93785 14.7355 9.24738 14.1564 9.7019 13.7019C10.1564 13.2474 10.7355 12.9379 11.366 12.8124C11.9964 12.687 12.6499 12.7514 13.2437 12.9974C13.8376 13.2434 14.3452 13.6599 14.7023 14.1944C15.0594 14.7289 15.25 15.3572 15.25 16C15.2484 16.8615 14.9055 17.6872 14.2963 18.2963C13.6872 18.9055 12.8615 19.2484 12 19.25ZM12 14.25C11.6539 14.25 11.3155 14.3526 11.0278 14.5449C10.74 14.7372 10.5157 15.0105 10.3832 15.3303C10.2508 15.6501 10.2161 16.0019 10.2836 16.3414C10.3512 16.6809 10.5178 16.9927 10.7626 17.2374C11.0073 17.4822 11.3191 17.6489 11.6586 17.7164C11.9981 17.7839 12.3499 17.7492 12.6697 17.6168C12.9895 17.4843 13.2628 17.26 13.4551 16.9722C13.6474 16.6845 13.75 16.3461 13.75 16C13.7479 15.5365 13.5628 15.0926 13.2351 14.7649C12.9074 14.4372 12.4635 14.2521 12 14.25Z" fill="#666666"/>
                                <path d="M17 22.75H7C2.59 22.75 1.25 21.41 1.25 17V15C1.25 10.59 2.59 9.25 7 9.25H17C21.41 9.25 22.75 10.59 22.75 15V17C22.75 21.41 21.41 22.75 17 22.75ZM7 10.75C3.42 10.75 2.75 11.43 2.75 15V17C2.75 20.57 3.42 21.25 7 21.25H17C20.58 21.25 21.25 20.57 21.25 17V15C21.25 11.43 20.58 10.75 17 10.75H7Z" fill="#666666"/>
                            </svg>
                        </span>
                        <span class="password-toggle" id="togglepassword">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M11.9999 16.3299C11.1435 16.3299 10.3064 16.076 9.5943 15.6002C8.88224 15.1244 8.32725 14.4481 7.99953 13.6569C7.6718 12.8657 7.58605 11.9951 7.75312 11.1552C7.9202 10.3152 8.33259 9.54371 8.93815 8.93815C9.54371 8.33259 10.3152 7.9202 11.1552 7.75312C11.9951 7.58605 12.8657 7.6718 13.6569 7.99953C14.4481 8.32725 15.1244 8.88224 15.6002 9.5943C16.076 10.3064 16.3299 11.1435 16.3299 11.9999C16.3294 13.1481 15.873 14.2492 15.0611 15.0611C14.2492 15.873 13.1481 16.3294 11.9999 16.3299ZM11.9999 9.16992C11.4402 9.16992 10.8931 9.3359 10.4277 9.64686C9.96227 9.95783 9.59954 10.3998 9.38534 10.9169C9.17115 11.434 9.11511 12.0031 9.2243 12.552C9.3335 13.101 9.60303 13.6053 9.99881 14.001C10.3946 14.3968 10.8989 14.6663 11.4478 14.7755C11.9968 14.8847 12.5658 14.8287 13.0829 14.6145C13.6 14.4003 14.042 14.0376 14.353 13.5722C14.6639 13.1068 14.8299 12.5596 14.8299 11.9999C14.8289 11.2497 14.5304 10.5305 13.9999 9.99998C13.4694 9.46948 12.7502 9.17098 11.9999 9.16992Z" fill="#666666"/>
                                <path d="M12.0001 21.02C8.24006 21.02 4.69006 18.82 2.25006 15C1.72906 14.086 1.45508 13.052 1.45508 12C1.45508 10.9479 1.72906 9.91399 2.25006 8.99998C4.70006 5.17998 8.25506 2.97998 12.0001 2.97998C15.7451 2.97998 19.3001 5.17998 21.7401 8.99998C22.2611 9.91399 22.535 10.9479 22.535 12C22.535 13.052 22.2611 14.086 21.7401 15C19.3001 18.82 15.7551 21.02 12.0001 21.02ZM12.0001 4.47998C8.77006 4.47998 5.68006 6.41998 3.52006 9.80998C3.15101 10.4809 2.9575 11.2342 2.9575 12C2.9575 12.7657 3.15101 13.519 3.52006 14.19C5.68006 17.58 8.77006 19.52 12.0001 19.52C15.2301 19.52 18.3201 17.58 20.4801 14.19C20.8491 13.519 21.0426 12.7657 21.0426 12C21.0426 11.2342 20.8491 10.4809 20.4801 9.80998C18.3201 6.41998 15.2301 4.47998 12.0001 4.47998Z" fill="#666666"/>
                            </svg>
                        </span>
                        <input id="password" type="password" class="form-control" name="password" required placeholder="••••••••••••">
                        @error('password')
                            <small class="text-danger">{{ $message }}</small>
                        @enderror
                    </div>
                </div>
                
                <!-- Password Confirmation -->
                <div class="form-group mt-4">
                    <label for="password_confirmation" class="form-label">تأكيد كلمة المرور</label>
                    <div class="input-wrapper">
                        <span class="input-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M18 10.75C17.8015 10.7487 17.6115 10.6693 17.4711 10.5289C17.3307 10.3885 17.2513 10.1985 17.25 10V8C17.25 4.85 16.36 2.75 12 2.75C7.64 2.75 6.75 4.85 6.75 8V10C6.74869 10.1985 6.66925 10.3885 6.52888 10.5289C6.38851 10.6693 6.19851 10.7487 6 10.75C5.80149 10.7487 5.61149 10.6693 5.47112 10.5289C5.33075 10.3885 5.25131 10.1985 5.25 10V8C5.25 5.1 5.95 1.25 12 1.25C18.05 1.25 18.75 5.1 18.75 8V10C18.7487 10.1985 18.6693 10.3885 18.5289 10.5289C18.3885 10.6693 18.1985 10.7487 18 10.75Z" fill="#666666"/>
                                <path d="M12 19.25C11.3572 19.25 10.7289 19.0594 10.1944 18.7023C9.65994 18.3452 9.24338 17.8376 8.99739 17.2437C8.75141 16.6499 8.68705 15.9964 8.81245 15.366C8.93785 14.7355 9.24738 14.1564 9.7019 13.7019C10.1564 13.2474 10.7355 12.9379 11.366 12.8124C11.9964 12.687 12.6499 12.7514 13.2437 12.9974C13.8376 13.2434 14.3452 13.6599 14.7023 14.1944C15.0594 14.7289 15.25 15.3572 15.25 16C15.2484 16.8615 14.9055 17.6872 14.2963 18.2963C13.6872 18.9055 12.8615 19.2484 12 19.25ZM12 14.25C11.6539 14.25 11.3155 14.3526 11.0278 14.5449C10.74 14.7372 10.5157 15.0105 10.3832 15.3303C10.2508 15.6501 10.2161 16.0019 10.2836 16.3414C10.3512 16.6809 10.5178 16.9927 10.7626 17.2374C11.0073 17.4822 11.3191 17.6489 11.6586 17.7164C11.9981 17.7839 12.3499 17.7492 12.6697 17.6168C12.9895 17.4843 13.2628 17.26 13.4551 16.9722C13.6474 16.6845 13.75 16.3461 13.75 16C13.7479 15.5365 13.5628 15.0926 13.2351 14.7649C12.9074 14.4372 12.4635 14.2521 12 14.25Z" fill="#666666"/>
                                <path d="M17 22.75H7C2.59 22.75 1.25 21.41 1.25 17V15C1.25 10.59 2.59 9.25 7 9.25H17C21.41 9.25 22.75 10.59 22.75 15V17C22.75 21.41 21.41 22.75 17 22.75ZM7 10.75C3.42 10.75 2.75 11.43 2.75 15V17C2.75 20.57 3.42 21.25 7 21.25H17C20.58 21.25 21.25 20.57 21.25 17V15C21.25 11.43 20.58 10.75 17 10.75H7Z" fill="#666666"/>
                            </svg>
                        </span>
                        <span class="password-toggle" id="togglepasswordConfirmation">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M11.9999 16.3299C11.1435 16.3299 10.3064 16.076 9.5943 15.6002C8.88224 15.1244 8.32725 14.4481 7.99953 13.6569C7.6718 12.8657 7.58605 11.9951 7.75312 11.1552C7.9202 10.3152 8.33259 9.54371 8.93815 8.93815C9.54371 8.33259 10.3152 7.9202 11.1552 7.75312C11.9951 7.58605 12.8657 7.6718 13.6569 7.99953C14.4481 8.32725 15.1244 8.88224 15.6002 9.5943C16.076 10.3064 16.3299 11.1435 16.3299 11.9999C16.3294 13.1481 15.873 14.2492 15.0611 15.0611C14.2492 15.873 13.1481 16.3294 11.9999 16.3299ZM11.9999 9.16992C11.4402 9.16992 10.8931 9.3359 10.4277 9.64686C9.96227 9.95783 9.59954 10.3998 9.38534 10.9169C9.17115 11.434 9.11511 12.0031 9.2243 12.552C9.3335 13.101 9.60303 13.6053 9.99881 14.001C10.3946 14.3968 10.8989 14.6663 11.4478 14.7755C11.9968 14.8847 12.5658 14.8287 13.0829 14.6145C13.6 14.4003 14.042 14.0376 14.353 13.5722C14.6639 13.1068 14.8299 12.5596 14.8299 11.9999C14.8289 11.2497 14.5304 10.5305 13.9999 9.99998C13.4694 9.46948 12.7502 9.17098 11.9999 9.16992Z" fill="#666666"/>
                                <path d="M12.0001 21.02C8.24006 21.02 4.69006 18.82 2.25006 15C1.72906 14.086 1.45508 13.052 1.45508 12C1.45508 10.9479 1.72906 9.91399 2.25006 8.99998C4.70006 5.17998 8.25506 2.97998 12.0001 2.97998C15.7451 2.97998 19.3001 5.17998 21.7401 8.99998C22.2611 9.91399 22.535 10.9479 22.535 12C22.535 13.052 22.2611 14.086 21.7401 15C19.3001 18.82 15.7551 21.02 12.0001 21.02ZM12.0001 4.47998C8.77006 4.47998 5.68006 6.41998 3.52006 9.80998C3.15101 10.4809 2.9575 11.2342 2.9575 12C2.9575 12.7657 3.15101 13.519 3.52006 14.19C5.68006 17.58 8.77006 19.52 12.0001 19.52C15.2301 19.52 18.3201 17.58 20.4801 14.19C20.8491 13.519 21.0426 12.7657 21.0426 12C21.0426 11.2342 20.8491 10.4809 20.4801 9.80998C18.3201 6.41998 15.2301 4.47998 12.0001 4.47998Z" fill="#666666"/>
                            </svg>
                        </span>
                        <input id="passwordConfirmation" type="password" class="form-control" name="password_confirmation" required placeholder="••••••••••••">
                    </div>
                </div>
                
                <div class="d-flex justify-content-between align-items-center mt-4">

                    <button type="submit" class="btn btn-primary">
                        حفظ كلمة المرور
                    </button>
                </div>
            </form>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{{ asset('js/eye-password.js') }}"></script>

</body>
</html>